<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <title>Acceso Privado | DomiMarket</title>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;900&display=swap" rel="stylesheet">
    <style>
        body { background: #000; color: #fff; font-family: 'Poppins', sans-serif; display: flex; justify-content: center; align-items: center; min-height: 100vh; margin: 0; }
        .login-box, .admin-box { background: #111; padding: 30px; border-radius: 15px; border: 1px solid #ff0000; width: 90%; max-width: 400px; }
        h2 { color: #ff0000; text-align: center; }
        input, textarea { width: 100%; padding: 12px; margin: 10px 0; background: #222; border: 1px solid #333; border-radius: 5px; color: #fff; box-sizing: border-box; }
        button { width: 100%; padding: 15px; background: #ff0000; color: #fff; border: none; font-weight: 900; cursor: pointer; border-radius: 5px; }
        #panel-contenido { display: none; }
    </style>
</head>
<body>

    <div id="login-seccion" class="login-box">
        <h2>Admin Login</h2>
        <input type="text" id="user" placeholder="Usuario">
        <input type="password" id="pass" placeholder="Contraseña">
        <button onclick="entrar()">ACCEDER</button>
    </div>

    <div id="panel-contenido" class="admin-box">
        <h2>Subir Producto</h2>
        <input type="text" id="nombre" placeholder="Nombre del Script">
        <input type="text" id="precio" placeholder="Precio (Ej: 15 USD)">
        <input type="text" id="imagen" placeholder="URL de la imagen">
        <textarea id="descripcion" placeholder="Descripción"></textarea>
        <button onclick="subir()">PUBLICAR</button>
    </div>

    <script type="module">
        import { initializeApp } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js";
        import { getFirestore, collection, addDoc } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore.js";

        const firebaseConfig = {
          apiKey: "AIzaSyA0B6BZdwXCXnidBn2seeZL7JdPjY6mTMc",
          authDomain: "domimarket-64ed1.firebaseapp.com",
          projectId: "domimarket-64ed1",
          storageBucket: "domimarket-64ed1.firebasestorage.app",
          messagingSenderId: "349796893686",
          appId: "1:349796893686:web:5d6f68b245f5ed31283dd7"
        };

        const app = initializeApp(firebaseConfig);
        const db = getFirestore(app);

        window.entrar = function() {
            if(document.getElementById('user').value === "jhonarks" && document.getElementById('pass').value === "jhonervi5") {
                document.getElementById('login-seccion').style.display = 'none';
                document.getElementById('panel-contenido').style.display = 'block';
            } else { alert("Datos incorrectos"); }
        }

        window.subir = async function() {
            try {
                await addDoc(collection(db, "productos"), {
                    nombre: document.getElementById('nombre').value,
                    precio: document.getElementById('precio').value,
                    imagen: document.getElementById('imagen').value,
                    descripcion: document.getElementById('descripcion').value
                });
                alert("¡Publicado!");
                location.reload();
            } catch (e) { alert("Error al subir"); }
        }
    </script>
</body>
</html>